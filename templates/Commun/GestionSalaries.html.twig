{% extends 'base.html.twig' %}
{% block body %}
    <fieldset>
        <legend style="color:#18BC9C"><B>Voici la page de gestion d'un salarié :</B></legend>

        <br>
        <hr>
        <table>
            <tr>
                {#Début de la Nav-bar, Les noms des ongles#}
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#{{idinfospro}}.conges" role="tab" aria-controls="home" aria-selected="true">Congés</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#{{idinfospro}}.arrets_travail" role="tab" aria-controls="profile" aria-selected="false">Arrêts de travail</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#{{idinfospro}}.chomages" role="tab" aria-controls="profile" aria-selected="false">Chomages</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#{{idinfospro}}.autres_absences" role="tab" aria-controls="profile" aria-selected="false">Autres absences</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#{{idinfospro}}.primes" role="tab" aria-controls="profile" aria-selected="false">Primes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#{{idinfospro}}.frais" role="tab" aria-controls="profile" aria-selected="false">Frais</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#{{idinfospro}}.heures" role="tab" aria-controls="profile" aria-selected="false">Heures</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#{{idinfospro}}.avenants" role="tab" aria-controls="profile" aria-selected="false">Avenants</a>
                    </li>
                </ul>


                {#Début du contenu des onglets#}
                <div class="tab-content">
                    <div class="tab-pane active" id="{{idinfospro}}.conges" role="tabpanel" aria-labelledby="home-tab">
                        <br>
                        <H4 style="color:#F7230C">Voici la page permettant de gérer les congés :</H4>

                        {% for conge in conges %}
                            <div class="card border-primary mb-3" style="max-width: 20rem;">
                                <div class="card-body">
                                    <p class="card-text">
                                    <li><B>Type de congés :</B>  {{ conge.contype }}</li>
                                    <li><B>Dernier jour travaillé :</B>  {{ conge.condernierjour|date("d/m/Y")}}</li>
                                    <li><B>Jour de reprise :</B>  {{ conge.conjourreprise|date("d/m/Y") }}</li>
                                    <li><B>Jours normalement travaillé :</B>  {{ conge.conjournormaltrav | json_encode }} </li>
                                    <li><B>Nombre de jour ouvrable pris :</B>  {{ conge.connbjourouvrablepris }} </li>
                                    <li><B>Commentaire :</B>  {{ conge.concommentaire }} </li>
                                    </p>
                                    <a href="{{ path('modifConge',{'sproid': idinfospro , 'idconge': conge.conid}) }}" method="post" type="button" class="btn btn-danger">Modifier un congé</a>
                                </div>
                            </div>
                        {% endfor %}
                        <br>
                        <a href="{{ path('EnregistrerConge',{'sproid': idinfospro }) }}" method="post" type="button" class="btn btn-danger">Ajouter un congé</a>

                    </div>

                    <div class="tab-pane" id="{{idinfospro}}.arrets_travail" role="tabpanel" aria-labelledby="profile-tab">
                        <a href="{{ path('EnregistrerArretTravail',{'sproid': idinfospro }) }}" method="post" type="button" class="btn btn-danger">Ajouter un arrêt de travail</a>

                    </div>

                    <div class="tab-pane" id="{{idinfospro}}.chomages" role="tabpanel" aria-labelledby="profile-tab">
                        <br>
                        <H4 style="color:#F7230C">Voici la page permettant de gérer les périodes de chômage :</H4>

                        {% for chomage in chomages %}
                            <div class="card border-primary mb-3" style="max-width: 20rem;">
                                <div class="card-body">
                                    <p class="card-text">
                                    <li><B>Date de début :</B>  {{ chomage.chodebut|date("d/m/Y")}}</li>
                                    <li><B>Date de fin :</B>  {{ chomage.chofin|date("d/m/Y")}}</li>
                                    <li><B>Nombre d'heures à déduire :</B>  {{ chomage.chonbheure }}</li>
                                    <li><B>Maintien du chômage à 100% : {{ chomage.chomaintien }}</B>
                                    </li>
                                    <li><B>Commentaire :</B>  {{ chomage.chocommentaire }} </li>
                                    </p>
                                    <a href="{{ path('modifChomage',{'sproid': idinfospro , 'idchomage': chomage.choid}) }}" method="post" type="button" class="btn btn-danger">Modifier un chômage</a>
                                </div>
                            </div>
                        {% endfor %}
                        <br>
                        <p><a href="{{ path('EnregistrerChomage',{'sproid': idinfospro }) }}" method="post" type="button" class="btn btn-danger">Ajouter un chômage</a>
                        </p>
                    </div>
                    <div class="tab-pane" id="{{idinfospro}}.autres_absences" role="tabpanel" aria-labelledby="home-tab">
                        <p>Voici la page des autres absences</p>
                        <a href="{{ path('EnregistrerAutreAbsence',{'sproid': idinfospro }) }}" method="post" type="button" class="btn btn-danger">Ajouter une autre absence</a>


                    </div>
                    <div class="tab-pane" id="{{idinfospro}}.primes" role="tabpanel" aria-labelledby="home-tab">
                        <br>
                        <H4 style="color:#F7230C">Voici la page permettant de gérer les primes :</H4>

                        {% for prime in primes %}
                            <div class="card border-primary mb-3" style="max-width: 20rem;">
                                <div class="card-body">
                                    <p class="card-text">
                                    <li><B>Type de prime :</B>  {{ prime.primtype}}</li>
                                    <li><B>Montant de la prime :</B>  {{ prime.primmontant}}</li>
                                    <li><B>Unité :</B>  {{ prime.primnetbrut }}</li>
                                    <li><B>Commentaires :</B> {{ prime.primcommentaire }}
                                    </li>
                                    </p>
                                    <a href="{{ path('modifPrime',{'sproid': idinfospro , 'idprime': prime.primid}) }}" method="post" type="button" class="btn btn-danger">Modifier une prime</a>
                                </div>
                            </div>
                        {% endfor %}
                        <a href="{{ path('EnregistrerPrime',{'sproid': idinfospro }) }}" method="post" type="button" class="btn btn-danger">Ajouter une prime</a>
                    </div>

                    <div class="tab-pane" id="{{idinfospro}}.frais" role="tabpanel" aria-labelledby="home-tab">
                        <p>Voici la page des frais</p>
                        <a href="{{ path('EnregistrerFrais',{'sproid': idinfospro }) }}" method="post" type="button" class="btn btn-danger">Ajouter un frais</a>

                    </div>
                    <div class="tab-pane" id="{{idinfospro}}.heures" role="tabpanel" aria-labelledby="home-tab">
                        <br>
                        <H4 style="color:#F7230C">Voici la page permettant de gérer les heures :</H4>

                        {% for heure in heures %}
                            <div class="card border-primary mb-3" style="max-width: 20rem;">
                                <div class="card-body">
                                    <p class="card-text">
                                    <li><B>Type d'heure :</B>  {{ heure.heurtype}}</li>
                                    <li><B>Semaine concernée :</B>  {{ heure.heursem}}</li>
                                    <li><B>Nombre d'heure :</B>  {{ heure.heurnb }}</li>
                                    <li><B>Commentaires :</B> {{ heure.heurcommentaire }}
                                    </li>
                                    </p>
                                    <a href="{{ path('modifHeure',{'sproid': idinfospro , 'idheure': heure.heurid}) }}" method="post" type="button" class="btn btn-danger">Modifier une heure</a>
                                </div>
                            </div>
                        {% endfor %}
                        <a href="{{ path('EnregistrerHeures',{'sproid': idinfospro }) }}" method="post" type="button" class="btn btn-danger">Ajouter une heure</a>
                    </div>
                    <div class="tab-pane" id="{{idinfospro}}.avenants" role="tabpanel" aria-labelledby="home-tab">
                        <p>Voici la page des avenants</p>
                        <a href="{{ path('EnregistrerAvenant',{'sproid': idinfospro }) }}" method="post" type="button" class="btn btn-danger">Ajouter un avenant</a>


                    </div>
                </div>
            </tr>
        </table>
        <hr>
        <br>
    </fieldset>

    {% block javascripts %}
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    {% endblock %}

{% endblock %}
